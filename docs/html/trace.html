<HTML>

<HEAD>
<TITLE>trace</TITLE>
<meta name="description" content="trace" />
<meta name="keywords" content="trace, NVIDIA, NVIDIA Cg Toolkit, Cg Toolkit, Shader, Shader Programming, GPU Shader Programming, GPU Program" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<STYLE TYPE="text/css" MEDIA=screen>
<!--
		
BODY {
 font-family: Arial,Helvetica;
}

BLOCKQUOTE { margin: 10pt;  }

H1,A { color: #336699; }


/*** Top menu style ****/
.mmenuon { 
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #ff6600; font-size: 10pt;
 }
.mmenuoff { 
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #ffffff; font-size: 10pt;
}	  
.cpyright {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #ffffff; font-size: xx-small;
}
.cpyrightText {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #ffffff; font-size: xx-small;
}
.sections { 
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: 11pt;
}	 
.dsections { 
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: 12pt;
}	
.slink { 
 font-family: Arial,Helvetica; font-weight: normal; text-decoration: none;
 color: #336699; font-size: 9pt;
}	 

.slink2 { font-family: Arial,Helvetica; text-decoration: none; color: #336699; }	 

.maintitle { 
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: 18pt;
}	 
.dblArrow {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: small;
}
.menuSec {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: small;
}

.newstext {
 font-family: Arial,Helvetica; font-size: small;
}

.linkmenu {
 font-family: Arial,Helvetica; color: #000000; font-weight: bold;
 text-decoration: none;
}

P {
 font-family: Arial,Helvetica;
}

PRE            { 
																font-family: monospace;
																white-space: pre; 
																font-color: #333333; 
																font-weight: 100;
																background-color: #eeeeee; 
																padding: 5px; 
																width: 90%; 
																border-style: solid;
																border-width: 2px; 
																border-color: #bebebe; 
	              }
.quote { 
 font-family: Times; text-decoration: none;
 color: #000000; font-size: 9pt; font-style: italic;
}	
.smstd { font-family: Arial,Helvetica; color: #000000; font-size: x-small; } 
.std { font-family: Arial,Helvetica; color: #000000; } 
.meerkatTitle { 
 font-family: sans-serif; font-size: x-small;  color: black;    }

.meerkatDescription { font-family: sans-serif; font-size: 10pt; color: black }
.meerkatCategory { 
 font-family: sans-serif; font-size: 9pt; font-weight: bold; font-style: italic; 
 color: brown; }
.meerkatChannel { 
 font-family: sans-serif; font-size: 9pt; font-style: italic; color: brown; }
.meerkatDate { font-family: sans-serif; font-size: xx-small; color: #336699; }

.tocTitle {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #333333; font-size: 10pt;
}

.toc-item {
 font-family: Arial,Helvetica; font-weight: bold; 
 color: #336699; font-size: 10pt; text-decoration: underline;
}

.perlVersion {
 font-family: Arial,Helvetica; font-weight: bold; 
 color: #336699; font-size: 10pt; text-decoration: none;
}

.docTitle {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #000000; font-size: 10pt;
}
.dotDot {
 font-family: Arial,Helvetica; font-weight: bold; 
 color: #000000; font-size: 9pt;
}

.docSec {
 font-family: Arial,Helvetica; font-weight: normal; 
 color: #333333; font-size: 9pt;
}
.docVersion {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: 10pt;
}

.docSecs-on {
 font-family: Arial,Helvetica; font-weight: normal; text-decoration: none;
 color: #ff0000; font-size: 10pt;
}
.docSecs-off {
 font-family: Arial,Helvetica; font-weight: normal; text-decoration: none;
 color: #333333; font-size: 10pt;
}

h3 {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: small;
}
h2 {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: medium;
}
h1 {
 font-family: Verdana,Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: large;
}

DL {
 font-family: Arial,Helvetica; font-weight: normal; text-decoration: none;
 color: #333333; font-size: 10pt;
}

UL > LI > A {
 font-family: Arial,Helvetica; font-weight: bold;
 color: #336699; font-size: 10pt;
}

.moduleInfo {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #333333; font-size: 11pt;
}

.moduleInfoSec {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none;
 color: #336699; font-size: 10pt;
}

.moduleInfoVal {
 font-family: Arial,Helvetica; font-weight: normal; text-decoration: underline;
 color: #000000; font-size: 10pt;
}

.cpanNavTitle {
 font-family: Arial,Helvetica; font-weight: bold; 
 color: #ffffff; font-size: 10pt;
}
.cpanNavLetter {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none; 
 color: #333333; font-size: 9pt;
}
.cpanCat {
 font-family: Arial,Helvetica; font-weight: bold; text-decoration: none; 
 color: #336699; font-size: 9pt;
}

-->
</STYLE>

</HEAD>

<BODY>

<object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
</object>

<BLOCKQUOTE>
<h2><a id="TOPIC"></a>Topic</h2>
<p><b>Trace</b> - API Trace for Cg, CgGL, OpenGL and GLUT</p>
<h2><a id="INTRODUCTION"></a>Introduction</h2>
<p>
The NVIDIA Cg Toolkit provides trace wrapper libraries for logging API calls
to Cg, CgGL, OpenGL and GLUT libraries.  The log includes nested function
call information and function parameter and return values.  The logged data can be
useful for debugging, trouble shooting and reporting issues.
</p>
<p>The libraries are experimental and require some software development expertise.</p>
<h2><a id="REQUIREMENTS_AND_LIMITATIONS"></a>Requirements And Limitations</h2>
<p>
Trace supports Cg version 2.2.010 (October 2009) and onwards.
Cg, CgGL, OpenGL, and GLUT trace libraries are included.
</p>
<p>CgD3D9, CgD3D10 and CgD3D10 are not currently supported.</p>
<p>Cg and GLUT are supported for OSX, but currently not OpenGL.</p>
<p>
Trace captures calls and parameters, but not the contents of files
referenced by calls such as <a href="cgCreateProgramFromFile.html">cgCreateProgramFromFile</a>.
Archive the logs, .cg and .cgfx files together into a .zip or .tgz for later reference.
</p>
<h2><a id="BUILDING"></a>Building</h2>
<p>
The trace library source code, makefile and Visual Studio projects are
located in the examples/Tools/trace directory of the Cg Toolkit installation.
Pre-built binaries are also included.
</p>
<p>The trace library components are as follows.</p>
<pre>
trace.c       }
traceOutput.c } ----&gt; trace library
traceFilter.c }
traceTime.c   }
b64.c         }
traceCg.c       ----&gt; Cg wrapper library
traceCgGL.c     ----&gt; CgGL wrapper library
traceGLUT.c     ----&gt; GLUT wrapper library
traceGL.c     }
traceGLX.c    } ----&gt; GL wrapper library
traceWGL.c    }
</pre>
<h2><a id="DEPLOYMENT"></a>Deployment</h2>
<h2><a id="ENVIRONMENT_VARIABLES"></a>Environment Variables</h2>
<p>
The <b>CG_TRACE_FILE</b> and <b>CG_TRACE_ERROR</b> environment variables specify
paths to the trace log and error log.  The two file names can be the same.
Otherwise <b>stdout</b> and <b>stderr</b> are used.
</p>
<p>
The <b>CG_TRACE_CG_LIBRARY</b> and <b>CG_TRACE_CGGL_LIBRARY</b> environment variables
specify the path of the target Cg and CgGL libraries.
The <b>CG_TRACE_GL_LIBRARY</b> environment variable specifies the path of the
target OpenGL library.
The <b>CG_TRACE_GLUT_LIBRARY</b> environment variable specifies the path of the
target OpenGL library.
</p>
<p>Otherwise, default system locations are used.</p>
<p>
The <b>CG_TRACE_ENABLE</b> environment variable enables or disables trace output.
By default trace output is enabled.
</p>
<p>
The <b>CG_TRACE_BASE64</b> environment variable specifies base64 encoding for binary data such as float, double and byte arrays.
A zero integer value disables base64 encoding for floats, doubles and byte arrays.
By default base64 encoding is enabled.
</p>
<p>
The <b>CG_TRACE_BLOB_LIMIT</b> environment variable limits the size of raw data logged.
Just the pointer value is stored for parameters that exceed the limit.
This variable is typically set to avoid capturing texture image data.
By default there is no limit and all parameter data is logged.
</p>
<p>
The <b>CG_TRACE_TIMESTAMP</b> environment variable specifies timestamp logging for each call.
Any non-zero integer value enables timestamp tracing.
By default timestamp logging is disabled.
</p>
<p>Recommended settings:</p>
<pre>
CG_TRACE_FILE traceLog.txt
CG_TRACE_ERROR traceError.txt
</pre>
<h2><a id="WINDOWS"></a>Windows</h2>
<p>
Select a trace directory to copy the trace libraries to.
This can be the same as the application directory.
The directory of the target <b>.exe</b> is recommended.
</p>
<p>
Copy <b>trace.dll</b> to the trace directory.
The API-specific trace libraries depend on <b>trace.dll</b>.
The other trace libraries are optional.
</p>
<p>
Optionally copy trace <b>cg.dll</b> and <b>cgGL.dll</b> to the trace directory.
The <b>CG_BIN_PATH</b> (32-bit) or <b>CG_BIN64_PATH</b> (64-bit) environment variables are used
unless <b>CG_TRACE_CG_LIBRARY</b> or <b>CG_TRACE_CGGL_LIBRARY</b> are defined.
</p>
<p>Optionally copy trace <b>opengl32.dll</b> to the trace directory.</p>
<p>Optionally copy trace <b>glut32.dll</b> to the trace directory.</p>
<h2><a id="LINUX_and_SOLARIS"></a>Linux And Solaris</h2>
<p>
Set the <b>LD_LIBRARY_PATH</b> environment variable to the directory containing the trace libraries.
The API-specific trace libraries depend on <b>libtrace.so</b>.
The other trace libraries are optional.
</p>
<h2><a id="OSX"></a>OSX</h2>
<p>
Set the <b>DYLD_LIBRARY_PATH</b> environment variable to the directory containing the trace libraries.
These are installed to <b>/Developer/NVIDIA/Cg/examples/Tools/trace</b> by default.
The API-specific trace libraries depend on <b>libtrace.dylib</b>.
The <b>Cg</b> and <b>GLUT</b> trace frameworks are both optional.
The symlinks <b>libCg.dylib</b> and <b>libGLUT.dylib</b> specify the full path of the native frameworks.
</p>
<h2><a id="CREDITS_AND_LICENCES"></a>Credits And Licences</h2>
<p>
The core trace library uses the <a href="http://base64.sourceforge.net/">base64</a> C implementation of
Base64 Content-Transfer-Encoding standard (also known as <a href="http://www.faqs.org/rfcs/rfc1113.html">RFC1113</a>) by Bob Trower, Trantor Standard Systems Inc.
</p>
<p>The Cg trace library uses the <a href="http://uthash.sourceforge.net">uthash</a> C hash table implementation by Troy D. Hanson.</p>
</BLOCKQUOTE>
</BODY>
